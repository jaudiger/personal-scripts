#!/usr/bin/env nu
#
# Copyright (c) Jérémy Audiger.
# All rights reserved.
#

# Cleanup all the build directories
def "main cache cleanup" [
    --dry-run # Do not cleanup the build directories
    --quiet # Do not print the build directories cleaned
]: nothing -> nothing {
    # Global cleanup
    if not $quiet {
        print "Cleaning Go build cache"
    }
    if not $dry_run {
        ^go clean -cache
    }

    if not $quiet {
        print "Cleaning Go module cache"
    }
    if not $dry_run {
        ^go clean -modcache
    }
}

def main []: nothing -> nothing {}
